<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIBRAI Fact-Checking App</title>
    <!-- <link rel="stylesheet" type="text/css" href="styles.css"> -->
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            /* display: flex; */
            flex-direction: column;
            justify-content: space-between;
            align-items: baseline;
            height: 100vh;
            /* background: #f4f4f4; */
            background: #fff;
        }

        header {
            width: 100%;
            height: 60px;
            background-color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            border: #e5e5e5 solid 2px;
        }

        header img {
            margin-left: 50px;
            width: 130px;
        }

        .fact-check {
            /* display: flex; */
            padding: 5% 0;
            width: 90%;
            /* justify-content: space-between; */
            align-items: center;
            /* border-top: 2px solid #ccc; */
            /* padding-top: 10%; */
        }

        .fact-check label {
            margin-left: 10%;
            font-size: 20px;
        }

        .fact-check textarea {
            margin: 20px 0;
            width: 90%;
            height: 100%;
            margin-left: 10%;
            border-radius: 10px;
            font-size: 15px;
            border-color: #a9bee3;
        }

        .fact-check button {
            margin-left: 80%;
            width: 20%;
            padding: 10px 20px;
            background-color: #4871b7;
            border: none;
            border-radius: 4px;
            color: white;
            cursor: pointer;
        }

        .fact-check button:hover {
            background-color: #a9bee3;
        }

        footer {
            padding: 10px;
            width: 100%;
            color: #333;
            background-color: #fbfbfb;
            text-align: center;
            position: fixed;
            bottom: 0;
            border: #a9bee3 solid 2px;
        }

        #timer {
            margin-left: 80%;
            width: 18%;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            // Handle text form submission
            $('#TextButton').click(function(event){
                // Submit the form
                $(this).closest('form').submit();
                // Disable the button
                $(this).prop('disabled', true);
                // Start timer
                startTimer();
            });
            
            // Handle file form submission
            $('#FileButton').click(function(event){
                var fileInput = $('#file')[0];
                if (fileInput.files.length === 0) {
                    alert('Please select a file to upload.');
                    event.preventDefault();
                    return;
                }
                
                // Submit the form
                $(this).closest('form').submit();
                // Disable the button
                $(this).prop('disabled', true);
                // Start timer
                startTimer();
            });
            
            function startTimer() {
                var timeElapsed = 0;
                $('#timer').text('Time elapsed: ' + timeElapsed + ' seconds');
                var timerId = setInterval(function(){
                    timeElapsed++;
                    $('#timer').text('Time elapsed: ' + timeElapsed + ' seconds');
                }, 1000);
            }
        });
    </script>
</head>

<body>
    <header>
        <a href="#">
            <!-- <img alt="Fake News Detection Logo" src="#" alt="Fake News Detection Logo"
                width="200px"> -->
            <img alt="Fake News Detection Logo" src="assets/librai_librai.png" alt="Fake News Detection Logo" width="200px">
        </a>
    </header>

    <main class="fact-check">
        <!-- Error message display -->
        {% if error %}
        <div style="margin-left: 10%; color: red; font-weight: bold; margin-bottom: 20px;">
            Error: {{ error }}
        </div>
        {% endif %}
        
        <!-- Text Input Form -->
        <form method="post" action="/" id="textForm">
            <label for="response">Enter text to fact-check:</label><br>
            <textarea id="response" name="response" rows="4" cols="50"
                placeholder="Enter fact to check..."></textarea><br>
            <button id="TextButton" type="submit">Check Text</button>
        </form>
        
        <!-- File Upload Form -->
        <div style="margin: 40px 0; padding: 20px 0; border-top: 2px solid #e5e5e5;">
            <form method="post" action="/" enctype="multipart/form-data" id="fileForm">
                <label for="file" style="margin-left: 10%; font-size: 20px;">Or upload an image/video to fact-check:</label><br>
                <input type="file" id="file" name="file" accept="image/*,video/*" 
                       style="margin: 20px 0; margin-left: 10%; font-size: 15px;">
                <br>
                <button id="FileButton" type="submit" style="margin-left: 80%; width: 20%; padding: 10px 20px; background-color: #4871b7; border: none; border-radius: 4px; color: white; cursor: pointer;">Upload & Check</button>
            </form>
        </div>
        
        <p id="timer"></p>
    </main>

    <footer>
        <p>&copy; Fake News Detection Tool. All rights reserved</p>
    </footer>
</body>

</html>
